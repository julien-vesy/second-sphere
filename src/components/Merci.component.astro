---
import { Image, getImage } from 'astro:assets'
import FixMyCard from '../assets/illustrations/fix-my-card.png'
import Fix from '../assets/illustrations/fix.png'
import My from '../assets/illustrations/my.png'
import Card from '../assets/illustrations/card.png'
import CircleCheck from '../assets/icons/circle-check.svg'
import Sparkles from '../assets/icons/sparkles.svg'
import ShinyPokeball from '../assets/illustrations/accueil/shiny-pokeball.png'
import Masterball from '../assets/illustrations/accueil/masterball.png'
import LoveBall from '../assets/illustrations/accueil/loveball.png'
import pokePatternSrc from '../assets/illustrations/accueil/poke-pattern-2x.png'

const pokePattern = await getImage({
  src: pokePatternSrc,
  format: 'webp',
  width: 300,
  quality: 90,
})

const nextSteps = [
  {
    icon: LoveBall,
    title: 'Vérification de votre demande',
    description:
      'Nous analysons votre demande avec attention pour vous proposer la meilleure solution.',
    color: 'from-rose-400 to-pink-600',
  },
  {
    icon: ShinyPokeball,
    title: 'Devis personnalisé',
    description: 'Vous recevrez un devis détaillé sous 24-48h par email.',
    color: 'from-amber-400 to-orange-600',
  },
  {
    icon: Masterball,
    title: 'Restauration experte',
    description:
      'Une fois validé, nous redonnons vie à vos cartes avec passion et précision.',
    color: 'from-blue-400 to-indigo-600',
  },
]
---

<div class="overflow-hidden min-h-screen">
  <section
    style={`background-image: url(${pokePattern.src}); background-size: 300px;`}
    class="min-h-[calc(100vh-64px)] flex flex-col justify-center items-center px-4 py-20"
  >
    <div
      class="max-w-4xl w-full bg-white rounded-2xl shadow-2xl p-8 md:p-12 relative overflow-hidden"
    >
      <div
        class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-purple-600 via-blue-600 to-pink-600"
      >
      </div>

      <div class="flex justify-center mb-8">
        <div
          class="relative inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-green-400 to-emerald-600 rounded-full shadow-xl"
        >
          <CircleCheck class="w-14 h-14 text-white animate-pulse" />
          <div
            class="absolute inset-0 bg-gradient-to-br from-green-400 to-emerald-600 rounded-full animate-ping opacity-20"
          >
          </div>
        </div>
      </div>

      <!-- Main Content -->
      <div class="text-center mb-10">
        <h1
          class="text-4xl md:text-5xl mb-4 bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent"
        >
          Demande envoyée avec succès !
        </h1>
        <p class="text-xl md:text-2xl text-gray-700 mb-6">
          Merci pour votre confiance
        </p>
        <p class="text-lg text-gray-600 max-w-2xl mx-auto leading-relaxed">
          Votre demande a bien été reçue. Notre équipe va examiner votre message
          et vous répondra dans les plus brefs délais.
        </p>
      </div>

      <!-- Logo Section -->
      <div class="flex justify-center mb-10">
        <div class="flex flex-col items-center">
          <Image
            src={FixMyCard}
            alt="FixMyCard"
            loading="eager"
            fetchpriority="high"
            quality={80}
            width={120}
            height={120}
            format="webp"
            class="mb-4"
          />
          <div class="flex items-center gap-1">
            <Image
              src={Fix}
              alt="Fix"
              loading="eager"
              quality={80}
              width={60}
              format="webp"
            />
            <Image
              src={My}
              alt="My"
              loading="eager"
              quality={80}
              width={60}
              format="webp"
            />
            <Image
              src={Card}
              alt="Card"
              loading="eager"
              quality={80}
              width={80}
              format="webp"
            />
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="relative py-20 bg-gradient-to-br from-purple-50 to-blue-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <Sparkles class="w-12 h-12 mx-auto mb-4 text-purple-600" />
        <h2
          class="text-4xl md:text-5xl mb-4 bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent"
        >
          Et maintenant ?
        </h2>
        <p class="text-xl text-gray-700 max-w-2xl mx-auto">
          Voici les prochaines étapes de votre aventure avec Fix My Card
        </p>
      </div>

      <div class="grid md:grid-cols-3 gap-8 mb-12">
        {
          nextSteps.map((step, index) => (
            <div class="relative">
              <div
                data-slot="card"
                class="bg-white border border-gray-200 transition-all duration-300 h-full shadow-lg hover:shadow-xl hover:-translate-y-1 rounded-xl overflow-hidden"
              >
                <div data-slot="card-content" class="p-6 text-center">
                  <div class="flex justify-center mb-4">
                    <div
                      class={`inline-flex items-center justify-center w-16 h-16 rounded-lg bg-gradient-to-br ${step.color}`}
                    >
                      <Image
                        loading="lazy"
                        src={step.icon}
                        alt={step.title}
                        width={40}
                        height={40}
                        quality={90}
                        format="webp"
                      />
                    </div>
                  </div>
                  <div class="text-sm font-semibold text-purple-600 mb-2">
                    Étape {index + 1}
                  </div>
                  <h3 class="text-xl mb-3 text-gray-900 font-semibold">
                    {step.title}
                  </h3>
                  <p class="text-gray-600 leading-relaxed">
                    {step.description}
                  </p>
                </div>
              </div>
            </div>
          ))
        }
      </div>
    </div>
  </section>

  <section
    class="relative py-20 bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 text-white"
  >
    <div class="absolute inset-0 opacity-10">
      <div
        class="absolute top-10 left-10 w-32 h-32 bg-white rounded-full blur-3xl"
      >
      </div>
      <div
        class="absolute bottom-10 right-10 w-40 h-40 bg-white rounded-full blur-3xl"
      >
      </div>
    </div>

    <div
      class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10"
    >
      <h2 class="text-4xl md:text-5xl mb-6">En attendant notre réponse...</h2>
      <p
        class="text-xl mb-10 text-purple-100 leading-relaxed max-w-2xl mx-auto"
      >
        Découvrez nos prestations ou consultez nos réalisations pour voir ce que
        nous pouvons faire pour vos cartes.
      </p>
      <div class="flex flex-wrap gap-4 justify-center">
        <a
          href="/prestations"
          class="w-60 bg-white text-purple-600 hover:bg-gray-100 shadow-xl inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-all outline-none focus-visible:ring-2 h-10 rounded-md px-6 cursor-pointer active:scale-95"
        >
          Nos prestations
        </a>
        <a
          href="/mes-realisations"
          class="w-60 border-2 border-white text-white hover:bg-white/10 shadow-xl inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-all outline-none focus-visible:ring-2 h-10 rounded-md px-6 cursor-pointer active:scale-95"
        >
          Nos réalisations
        </a>
        <a
          href="/"
          class="w-60 border-2 border-white text-white hover:bg-white/10 shadow-xl inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-all outline-none focus-visible:ring-2 h-10 rounded-md px-6 cursor-pointer active:scale-95"
        >
          Retour à l'accueil
        </a>
      </div>
    </div>
  </section>
</div>
